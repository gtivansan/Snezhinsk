<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Снежинск</title>
    <style>
        #tools {
            width: 500px;
            height: 500px;
            /*background: #545454;*/
        }

        .canvas-container {
            margin: 0 auto;
            width: 500px;
        }   

        h2 {
            text-align: center;
        }

        body {
            margin: 0;
        }
    </style> 
    <script src="static/fly.js"></script>
    <script src="static/snowflake_editor.js"></script>
</head>
<body>
    <div class="canvas-container">
        <h2>Редактор</h2>
        <svg id="tools">
            <clipPath id="masksContainer"></clipPath>
            <symbol id="flakeraw">
                <path d="M 134 470 L 250 269 L 366 470 Z"/>
            </symbol>   
            <symbol id="flakeangle">
                <use href="#flakeraw" fill="white" stroke-width="0" stroke="white"/>
                <use clip-path="url(#masksContainer)" href="#flakeraw" fill="black" stroke-width="2" stroke="black"/>
            </symbol>
            <symbol id="flake">
                <rect x="0" y="0" width="500" height="500" fill="black"/>
                <use href="#flakeangle" transform="rotate(0, 250 270)"/>
                <use href="#flakeangle" transform="rotate(60, 250 270)"/>
                <use href="#flakeangle" transform="rotate(120, 250 270)"/>
                <use href="#flakeangle" transform="rotate(180, 250 270)"/>
                <use href="#flakeangle" transform="rotate(240, 250 270)"/>
                <use href="#flakeangle" transform="rotate(300, 250 270)"/>
            </symbol>
            <mask id="flake-mask">
                <use href="#flake"/>
            </mask>
            <filter id="blur">
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" />
            </filter>
            <g filter="url(#blur)">
                <rect x="0" y="0" width="500" height="500" fill="grey" 
                    mask="url(#flake-mask)" transform="translate(5, 5)"/>
            </g>
            <rect x="0" y="0" width="500" height="500" fill="white" mask="url(#flake-mask)"/>

        </svg>
    </div>
    <script>
        let toolsCanvas = document.getElementById("tools");
        let flakerawCanvas = document.getElementById("flakeraw");
        let masksContainer = document.getElementById("masksContainer");

        let tool = new ToolChain(0, toolsCanvas, masksContainer);
    </script>
</body>
</html>